{"version":3,"file":"alerts.js","names":["Drupal","$","Cookies","behaviors","alert","attach","context","settings","document","parent","each","$self","this","cookieName","attr","get","addClass","$drawer","$drawerOuterHeight","outerHeight","$header","$adminHeader","window","on","console","log","css","hasClass","click","$drawerNewOuterHeight","find","removeClass","expirationMap","never","expiryKey","Object","hasOwn","set","expires","jQuery"],"sources":["alerts.js"],"mappings":"CAAC,SAAUA,EAAQC,EAAGC,GACpB,aAEAF,EAAOG,UAAUC,MAAQ,CACvBC,OAAQ,SAAUC,EAASC,GACzBN,EAAE,eAAgBK,IAAYE,SAAWF,EAAUL,EAAEK,GAASG,UAAUC,MAAK,WAC3E,MAAMC,EAAQV,EAAEW,MAEVC,EAAa,SADRF,EAAMG,KAAK,cAItB,IAD8BZ,EAAQa,IAAIF,GAC1C,CAIAF,EAAMK,SAAS,SAGf,IAAIC,EAAUhB,EAAE,WACZiB,EAAqBD,EAAQE,cAAgB,GAC7CC,EAAUnB,EAAE,2BACZoB,EAAepB,EAAE,0BAGrBA,EAAEqB,QAAQC,GAAG,QAAQ,WACnBC,QAAQC,IAAI,2BAA6BP,GACzCE,EAAQM,IAAI,MAAOR,GACnBG,EAAaK,IAAI,MAAOR,EAAqB,GAAK,cAC9CjB,EAAE,QAAQ0B,SAAS,kBACrBH,QAAQC,IAAI,eACZL,EAAQM,IAAI,MAAOR,EAAqB,KAGxCE,EAAQM,IAAI,MAAOR,EAEvB,IAeAjB,EAAE,gBAAgB2B,OAAM,WACtB,IAAIC,EAAwBZ,EAAQE,cAAgB,GACpDC,EAAQM,IAAI,MAAOG,EAAwB,IAC3CR,EAAaK,IAAI,MAAOG,EAAwB,GAClD,IAEAlB,EAAMmB,KAAK,gBAAgBF,OAAM,WAC/BjB,EAAMoB,YAAY,SAClB,MAAMC,EAAgB,CACpB,SAAU,EACV,UAAW,GACX,UAAW,GAEXC,MAAS,KAELC,EAAYvB,EAAMG,KAAK,eACzBqB,OAAOC,OAAOJ,EAAeE,IAC/BhC,EAAQmC,IAAIxB,EAAY,EAAG,CAAEyB,QAASN,EAAcE,IAExD,GAxDA,CAyDF,GACF,EAEJ,CAzEA,CAyEElC,OAAQuC,OAAQrC","sourcesContent":["(function (Drupal, $, Cookies) {\n  'use strict';\n\n  Drupal.behaviors.alert = {\n    attach: function (context, settings) {\n      $('[data-alert]', context === document ? context : $(context).parent()).each(function () {\n        const $self = $(this);\n        const id = $self.attr('data-alert');\n        const cookieName = 'alert-' + id;\n\n        const expirationCookieFound = Cookies.get(cookieName);\n        if (expirationCookieFound) {\n          return;\n        }\n\n        $self.addClass('shown');\n\n        //adjust for hero images\n        var $drawer = $('.drawer');\n        var $drawerOuterHeight = $drawer.outerHeight() + 10;\n        var $header = $('.has-hero-image .header');\n        var $adminHeader = $('.has-hero-image.header');\n\n\n        $(window).on(\"load\", function () {\n          console.log(\"on load alert height is \" + $drawerOuterHeight)\n          $header.css('top', $drawerOuterHeight)\n          $adminHeader.css('top', $drawerOuterHeight + 80 + \"!important\")\n          if ($(\"body\").hasClass(\"toolbar-fixed\")) {\n            console.log(\"has toolbar\")\n            $header.css('top', $drawerOuterHeight + 80)\n          }\n          else {\n            $header.css('top', $drawerOuterHeight)\n          }\n        });\n\n\n        // $(window).scroll(function () {\n        //   var scroll = $(window).scrollTop();\n\n        //   if (scroll >= $headerHeight) {\n        //     $header.css('top', 0)\n        //     $adminHeader.css('top', 80)\n        //   } else {\n        //     var $drawerOuterHeight = $drawer.outerHeight() + 10;\n        //     // $header.css('top', $drawerOuterHeight)\n        //     $adminHeader.css('top', $drawerOuterHeight + 80)\n        //   }\n        // });\n        $('.alert-close').click(function () {\n          var $drawerNewOuterHeight = $drawer.outerHeight() + 10;\n          $header.css('top', $drawerNewOuterHeight + 10)\n          $adminHeader.css('top', $drawerNewOuterHeight + 80)\n        });\n\n        $self.find('.alert-close').click(function () {\n          $self.removeClass('shown');\n          const expirationMap = {\n            '7 days': 7,\n            '14 days': 14,\n            '30 days': 30,\n            // https://developer.chrome.com/blog/cookie-max-age-expires/\n            'never': 400,\n          };\n          const expiryKey = $self.attr('data-expiry');\n          if (Object.hasOwn(expirationMap, expiryKey)) {\n            Cookies.set(cookieName, 1, { expires: expirationMap[expiryKey] });\n          }\n        });\n      });\n    },\n  };\n}(Drupal, jQuery, Cookies));\n"]}